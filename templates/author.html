{% extends 'base.html' %}

{% block body_class %}poem-page {% endblock %}

{% block content %}
<main class="container section" style="display:grid; grid-template-columns: 1fr 320px; gap:32px; align-items:start;">

  <!-- Cột trái: Thông tin tác giả -->
  <section>
    <header class="author-header" style="display:flex; gap:24px; align-items:flex-start; flex-wrap:wrap;">
      {% if author.image_url %}
        <img
          src="{{ author.image_url }}"
          alt="Ảnh tác giả {{ author.name }}"
          style="width:140px; height:140px; object-fit:cover; border-radius:14px; border:1px solid var(--border); box-shadow:0 2px 8px rgba(0,0,0,0.2);">
      {% endif %}
      <div class="author-intro" style="flex:1 1 280px; font-weight: 700; text-align: justify;">
        <h1 class="author-name">{{ author.name }}</h1>
        {% if author.bio %}
          <p class="author-bio">{{ author.bio }}</p>
        {% else %}
          <p class="author-name">(Chưa có tiểu sử.)</p>
        {% endif %}
      </div>
    </header>
  </section>

  <!-- Cột phải: Sidebar danh mục tác phẩm -->
 <!-- Sidebar: Danh mục tác phẩm của tác giả -->
<aside>
  <h3 style="margin-top: 0; font-size: x-large;">Tác phẩm</h3>
  <ul class="poem-sidebar_list">
    {% for it in poems %}
      <li class="poem-sidebar_item">
        <a
          href="{{ url_for('poem_page', author_slug=author.slug, poem_slug=it.slug) }}?lang=vi"
          class="poem-sidebar_link {% if poem and it.slug == poem.slug %}is-active{% endif %}"
          title="{{ it.title }}"
        >
          {{ it.title }}
        </a>
      </li>
    {% else %}
      <li class="poem-sidebar_empty" style="color:#888;">(Chưa có tác phẩm)</li>
    {% endfor %}
  </ul>
</aside>


</main>
{% endblock %}
